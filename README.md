# MenuBuilder
Development Version

## Description
Alternative/Replacement for the Wayfinder extra. 

## Features
 - Use different Chunks for every level of your menu if you choose
 - Currently loads one or all menus with a single query, should be fast
 - Simpler design and usage, faster to get up and going and more flexible.

## Manual Install
 - Download files and put in your MODX install
 - Create Snippets in MODX Manager, code for [Snippets](https://rtfm.modx.com/revolution/2.x/developing-in-modx/basic-development/snippets): 
 [core/components/menubuilder/elements/snippets](../master/core/components/menubuilder/elements/snippets)
    - menuBuilder
    - installMenuBuilder
 - Run the install Snippet in a Resource, this will create the database table
 - Create the [Plugin](https://rtfm.modx.com/revolution/2.x/developing-in-modx/basic-development/plugins): 
 buildMenuSequence, see code:  [core/components/menubuilder/elements/plugins](../master/core/components/menubuilder/elements/plugins) 
 and attach System Events:
    - OnDocFormSave
    - OnResourceSort
 - Save or sort a Resource in the MODX Tree and it will populate the database and will for every on change.
 - Ready to use
    
## Build a navigation menu

Place a Snippet call into your appropriate Template/Chunk/Resource. Like:
[[menuBuilder?
    &startId=`1`
]]

## Chunks used
By default will generate an unordered list. 

Note (bool) stands for boolean which is true/false or 1/0.

| Property | Description | Default |
|--- |--- |--- |
| mbItem | The Chunk name that will be used to render the item/Resource/link  |  |
| mbWrapper | The Chunk that will wrap a level or list of items |  |
| mbItem#Level | Replace #Level with a number, it will override the mbItem Chunk for related level  |  |
| mbWrapper#Level | Replace #Level with a number, it will override the mbWrapper Chunk for related level  |  |

## General options

| Property | Description | Default |
|--- |--- |--- |
| startId | The starting point (Resource ID) for the menu to list documents from. Specify 0 to start from the site root. | 0 | 
| displayStart | Show the document as referenced by &startId in the menu. | (bool) 0 |
| level | Depth (number of levels) to build the menu from. '0' goes through all levels. | 0 |
| limit | The limit parameter the total number of items specified | |
| viewHidden | (bool) Hide/Show basied on the value of "Hide From Menus" checkbox | 0 |
| viewUnpublished | (bool) | 0 |
| viewDeleted | (bool) | 0 |
| placeholder | Name of a placeholder to send results to, instead of directly returning the output. | |
| debug | (bool) Set to '1' to enable debug mode for extra troubleshooting. | 0 |
| debugSql | (bool) Will output the SQL that is generated by your property settings | 0 | 
| contexts | Comma separated list of Context_keys to use for building the menu. | |
| scheme | format for how URLs are generated.  | [System Setting](https://rtfm.modx.com/revolution/2.x/administering-your-site/settings/system-settings/link_tag_scheme) |


## TODO
- TV Support
- Resource Group/ACLs 
- Build script to package in MODX Extras